{"version":3,"sources":["components/Header.js","store/actionTypes.js","components/Navigation.js","helpers.js","components/CardList.js","store/actionCreaters.js","App.js","store/cardListReducer.js","store/filterReducer.js","index.js"],"names":["Header","className","href","alt","src","GET_CARDS_LIST","ERROR","FILTER_BY_GENRE","FILTER_BY_SUBJECT","FILTER_BY_GRADE","SEARCH","subjects","genres","classes","Navigation","useState","inputValue","setInputValue","dispatch","useDispatch","onChange","e","type","TYPES","payload","target","value","filterSubject","map","subj","index","filterGenre","genre","filterGrade","grade","placeholder","onClick","preventDefault","gradesString","str","array","split","length","CardList","money","setMoney","useSelector","store","cardList","data","er","filter","filterBySubject","filterByGenre","filterByGrade","search","console","log","useEffect","a","fetch","method","resp","json","items","errorMessage","Error","message","filteredCardList","useMemo","result","el","subject","includes","toLowerCase","trim","card","price","priceBonus","courseId","App","initialState","rootReducer","combineReducers","state","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oMAiBeA,EAfA,WACb,OACE,wBAAQC,UAAU,SAAlB,SACE,sBAAKA,UAAU,4BAAf,UACE,mBAAGC,KAAK,IAAID,UAAU,eAAtB,SAAqC,qBAAKE,IAAI,6CAAUC,IAAI,iBAAiBH,UAAU,kBACvF,sBAAKA,UAAU,uBAAf,UACE,mBAAGA,UAAU,eAAeC,KAAK,IAAjC,wDACA,mBAAGD,UAAU,eAAeC,KAAK,IAAjC,oEACA,mBAAGD,UAAU,eAAeC,KAAK,IAAjC,+C,cCVGG,EAAiB,iBACjBC,EAAQ,QACRC,EAAkB,kBAClBC,EAAoB,oBACpBC,EAAkB,kBAClBC,EAAS,SCDhBC,EAAW,CAAC,sEAAgB,6CAAW,+DAAc,mDAAY,yDAAa,0DAC9EC,EAAS,CAAC,oDAAa,2BAAQ,mDAAY,yFAAoB,mFAAmB,yFAClFC,EAAU,CAAC,0DAAc,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,MA+EnEC,EA7EI,WACjB,MAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACMC,EAAWC,cAgCjB,OACE,sBAAKlB,UAAU,uBAAf,UACE,oBAAIA,UAAU,oBAAd,wDACA,uBAAMA,UAAU,wBAAhB,UACE,sBAAKA,UAAU,sBAAf,UACE,wBAAQA,UAAU,qBAAqBmB,SAAU,SAACC,GAAD,OApCnC,SAACA,GACrBH,EAAS,CACPI,KAAMC,EACNC,QAASH,EAAEI,OAAOC,QAiC0CC,CAAcN,IAAtE,SAEIV,EAASiB,KAAI,SAACC,EAAMC,GAAP,OACX,wBAAQJ,MAAgB,wEAATG,EAA0B,GAAKA,EAA9C,SAAiEA,GAARC,QAI/D,wBAAQ7B,UAAU,qBAAqBmB,SAAU,SAACC,GAAD,OArCrC,SAACA,GACnBH,EAAS,CACPI,KAAMC,EACNC,QAASH,EAAEI,OAAOC,QAkC0CK,CAAYV,IAApE,SAEIT,EAAOgB,KAAI,SAACI,EAAOF,GAAR,OACT,wBAAQJ,MAAiB,sDAAVM,EAAwB,GAAKA,EAA5C,SAAgEA,GAARF,QAI9D,wBAAQ7B,UAAU,qBAAqBmB,SAAU,SAACC,GAAD,OAtCrC,SAACA,GACnBH,EAAS,CACPI,KAAMC,EACNC,QAASH,EAAEI,OAAOC,QAmC0CO,CAAYZ,IAApE,SAEIR,EAAQe,KAAI,SAACM,EAAOJ,GAAR,OACV,wBAAQJ,MAAiB,4DAAVQ,EAAyB,GAAKA,EAA7C,SAAiEA,GAARJ,WAKjE,sBAAK7B,UAAU,oBAAf,UACE,uBACEyB,MAAOV,EACPf,UAAU,oBACVkC,YAAY,iCACZf,SApCiB,SAACC,GAC1BJ,EAAcI,EAAEI,OAAOC,UAqCjB,wBAAQzB,UAAU,kBAAkBmC,QA9CvB,SAACf,GACpBA,EAAEgB,iBACFnB,EAAS,CACPI,KAAMC,EACNC,QAASR,IAEXC,EAAc,KAwCR,SACE,qBAAKb,IAAI,mBAAmBD,IAAI,iCAAQF,UAAU,gC,yBC7EjDqC,EAAe,SAAAC,GAC1B,IAAMC,EAAQD,EAAIE,MAAM,KACxB,OAAwB,IAAjBD,EAAME,OAAN,UACAF,EAAM,GADN,6CAEAA,EAAM,GAFN,YAEYA,EAAMA,EAAME,OAAS,GAFjC,0CC6DMC,EA1DE,WACf,MAA0B5B,mBAAS,kCAAnC,mBAAO6B,EAAP,KAAcC,EAAd,KACM3B,EAAWC,cACjB,EAAqB2B,aAAY,SAAAC,GAAK,OAAIA,EAAMC,YAAxCC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,GACd,EAAkEJ,aAAY,SAAAC,GAAK,OAAIA,EAAMI,UAArFC,EAAR,EAAQA,gBAAiBC,EAAzB,EAAyBA,cAAeC,EAAxC,EAAwCA,cAAeC,EAAvD,EAAuDA,OACvDC,QAAQC,IAAI,OAAQR,GAEpBS,qBAAU,WACRxC,ECTwB,uCAC1B,WAAMA,GAAN,qBAAAyC,EAAA,+EAEuBC,MALb,oDAKwB,CAC5BC,OAAQ,SAHd,cAEUC,EAFV,gBAK0CA,EAAKC,OAL/C,mBAKYC,EALZ,EAKYA,QAAOC,EALnB,EAKmBA,cALnB,uBAOY,IAAIC,MAAMD,GAPtB,QASI/C,EAAS,CACPI,KAAMC,EACNC,QAASwC,IAXf,kDAcIR,QAAQC,IAAR,MACAvC,EAAS,CACPI,KAAMC,EACNC,QAAS,KAAE2C,UAjBjB,0DAD0B,yDDUvB,CAACjD,IAEJ,IAAMkD,EAAmBC,mBAAQ,WAC/B,IDVgC9B,ECU5B+B,EAASrB,EAcb,OAbIG,IACFkB,EAASrB,EAAKE,QAAO,SAAAoB,GAAE,OAAIA,EAAGC,QAAQC,SAASrB,OAE7CC,IACFiB,EAASA,EAAOnB,QAAO,SAAAoB,GAAE,OAAIA,EAAGvC,MAAMyC,SAASpB,OAE7CC,IACFgB,EAASA,EAAOnB,QAAO,SAAAoB,GAAE,OAAIA,EAAGrC,MAAMuC,SAASnB,OAE7CC,IDpB4BhB,ECqBAgB,EAA9Be,EAAsBA,EDrBsBnB,QAChD,SAAAoB,GAAE,OAAKA,EAAGvC,MAAQuC,EAAGC,QAAUD,EAAGrC,OAAOwC,cAAcD,SAASlC,EAAIoC,OAAOD,mBCsBzElB,QAAQC,IAAI,SAAUa,GACfA,IACN,CAACrB,EAAMM,EAAQH,EAAiBC,EAAeC,IAGlD,OAFAE,QAAQC,IAAI,mBAAoBW,GAG9B,uBAAMnE,UAAU,YAAhB,UACE,yBAAQmB,SAAU,SAAAC,GAAC,OAAIwB,EAASxB,EAAEI,OAAOC,QAAQzB,UAAU,mBAA3D,UACE,wBAAQyB,MAAM,iCAAd,4CACA,wBAAQA,MAAM,uCAAd,qDAEF,oBAAIzB,UAAU,gBAAd,SAEIiD,EACI,wLACAkB,EAAiBxC,KAAI,SAAAgD,GAAI,OACzB,qBAAI3E,UAAU,yBAAd,UACE,qBAAKA,UAAU,eAAeG,IAAI,iBAAiBD,IAAKyE,EAAKJ,UAC7D,0BAASvE,UAAU,mBAAnB,UACE,oBAAIA,UAAU,gBAAd,SAA+B2E,EAAKJ,UACpC,oBAAIvE,UAAU,kBAAd,SAAiCqC,EAAasC,EAAK1C,SACnD,oBAAIjC,UAAU,iBAAd,SAAgC2E,EAAK5C,QACrC,mBAAG/B,UAAU,gBAAgBC,KAAK,IAAlC,oEACA,mBAAGD,UAAU,eAAeC,KAAK,IAAjC,SAAgD,mCAAV0C,EAAA,UAAuBgC,EAAKC,MAA5B,iCAA6CD,EAAKE,WAAlD,sDAPEF,EAAKG,mBE/BhDC,EAVH,WACV,OACE,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,Q,sBCRAC,EAAe,CACnBhC,KAAM,GACNC,IAAI,GCFA+B,EAAe,CACnB7B,gBAAiB,GACjBC,cAAe,GACfC,cAAe,GACfC,OAAQ,ICKJ2B,EAAcC,YAAgB,CAClCnC,SFL6B,WAAmC,IAAlCoC,EAAiC,uDAAzBH,EAAcI,EAAW,uCAC/D,OAAQA,EAAO/D,MACb,KAAKC,EACH,OAAO,2BACF6D,GADL,IAEEnC,KAAMoC,EAAO7D,UAEjB,KAAKD,EACH,OAAO,2BACF6D,GADL,IAEElC,GAAImC,EAAO7D,UAEf,QACE,OAAO4D,IEPXjC,ODJ2B,WAAmC,IAAlCiC,EAAiC,uDAAzBH,EAAcI,EAAW,uCAC7D,OAAQA,EAAO/D,MACb,KAAKC,EACH,OAAO,2BACF6D,GADL,IAEE7B,OAAQ,GACRH,gBAAiBiC,EAAO7D,UAE5B,KAAKD,EACH,OAAO,2BACF6D,GADL,IAEE7B,OAAQ,GACRF,cAAegC,EAAO7D,UAE1B,KAAKD,EACH,OAAO,2BACF6D,GADL,IAEE7B,OAAQ,GACRD,cAAe+B,EAAO7D,UAE1B,KAAKD,EACH,OAAO,2BACF6D,GADL,IAEE7B,OAAQ8B,EAAO7D,UAEnB,QACE,OAAO4D,MCnBPE,EAAmBC,OAAOC,sCAAwCC,IAClE1C,EAAQ2C,YACZR,EACAI,EACEK,YACEC,OAKNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUhD,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJiD,SAASC,eAAe,W","file":"static/js/main.7246feaf.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"container header__content\">\r\n        <a href=\"#\" className=\"header__logo\"><img alt=\"логотип\" src=\"./img/logo.svg\" className=\"header__img\"/></a>\r\n        <div className=\"header__wrapper flex\">\r\n          <a className=\"header__link\" href=\"#\">Каталог</a>\r\n          <a className=\"header__link\" href=\"#\">Активация</a>\r\n          <a className=\"header__link\" href=\"#\">Вход</a>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export const GET_CARDS_LIST = 'GET_CARDS_LIST';\r\nexport const ERROR = 'ERROR';\r\nexport const FILTER_BY_GENRE = 'FILTER_BY_GENRE';\r\nexport const FILTER_BY_SUBJECT = 'FILTER_BY_SUBJECT';\r\nexport const FILTER_BY_GRADE = 'FILTER_BY_GRADE';\r\nexport const SEARCH = 'SEARCH';\r\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport * as TYPES from '../store/actionTypes';\n\nconst subjects = ['Все предметы', 'Алгебра', 'Английский', 'Биология', 'География', 'Геометрия'];\nconst genres = ['Все жанры', 'Демо', 'Задачник', 'Подготовка к ВПР', 'Подгтовка к ЕГЭ', 'Рабочая тетрадь'];\nconst classes = ['Все классы', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11'];\n\nconst Navigation = () => {\n  const [inputValue, setInputValue] = useState('');\n  const dispatch = useDispatch();\n  const filterSubject = (e) => {\n    dispatch({\n      type: TYPES.FILTER_BY_SUBJECT,\n      payload: e.target.value\n    });\n  };\n  const filterGenre = (e) => {\n    dispatch({\n      type: TYPES.FILTER_BY_GENRE,\n      payload: e.target.value\n    });\n  };\n  const filterGrade = (e) => {\n    dispatch({\n      type: TYPES.FILTER_BY_GRADE,\n      payload: e.target.value\n    });\n  };\n\n  const clickHandler = (e) => {\n    e.preventDefault();\n    dispatch({\n      type: TYPES.SEARCH,\n      payload: inputValue\n    });\n    setInputValue('');\n  };\n  const changeHandlerInput = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  return (\n    <nav className=\"navigation container\">\n      <h2 className=\"navigation__title\">Витрина</h2>\n      <form className=\"navigation__form flex\">\n        <div className=\"navigation__wrapper\">\n          <select className=\"navigation__select\" onChange={(e) => filterSubject(e)}>\n            {\n              subjects.map((subj, index) => (\n                <option value={subj === 'Все предметы' ? '' : subj} key={index}>{subj}</option>\n              ))\n            }\n          </select>\n          <select className=\"navigation__select\" onChange={(e) => filterGenre(e)}>\n            {\n              genres.map((genre, index) => (\n                <option value={genre === 'Все жанры' ? '' : genre} key={index}>{genre}</option>\n              ))\n            }\n          </select>\n          <select className=\"navigation__select\" onChange={(e) => filterGrade(e)} >\n            {\n              classes.map((grade, index) => (\n                <option value={grade === 'Все классы' ? '' : grade} key={index}>{grade}</option>\n              ))\n            }\n          </select>\n        </div>\n        <div className=\"navigation__group\">\n          <input\n            value={inputValue}\n            className=\"navigation__input\"\n            placeholder=\"Поиск\"\n            onChange={changeHandlerInput}\n          />\n          <button className=\"navigation__btn\" onClick={clickHandler}>\n            <img src=\"./img/search.png\" alt=\"поиск\" className=\"navigation__img\" />\n          </button>\n        </div>\n      </form>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","export const gradesString = str => {\r\n  const array = str.split(';');\r\n  return array.length === 1\r\n    ? `${array[0]} класс`\r\n    : `${array[0]}-${array[array.length - 1]} классы`;\r\n};\r\n\r\nexport const searchString = (array, str) => array.filter(\r\n  el => (el.genre + el.subject + el.grade).toLowerCase().includes(str.trim().toLowerCase())\r\n);\r\n","import React, { useEffect, useState, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCardsList } from '../store/actionCreaters';\nimport { gradesString, searchString } from '../helpers';\n\nconst CardList = () => {\n  const [money, setMoney] = useState('рубли');\n  const dispatch = useDispatch();\n  const { data, er } = useSelector(store => store.cardList);\n  const { filterBySubject, filterByGenre, filterByGrade, search } = useSelector(store => store.filter);\n  console.log('data', data);\n\n  useEffect(() => {\n    dispatch(getCardsList());\n  }, [dispatch]);\n\n  const filteredCardList = useMemo(() => {\n    let result = data;\n    if (filterBySubject) {\n      result = data.filter(el => el.subject.includes(filterBySubject));\n    }\n    if (filterByGenre) {\n      result = result.filter(el => el.genre.includes(filterByGenre));\n    }\n    if (filterByGrade) {\n      result = result.filter(el => el.grade.includes(filterByGrade));\n    }\n    if (search) {\n      result = searchString(result, search);\n    }\n    console.log('result', result);\n    return result;\n  }, [data, search, filterBySubject, filterByGenre, filterByGrade]);\n  console.log('filteredCardList', filteredCardList);\n\n  return (\n    <main className=\"container\">\n      <select onChange={e => setMoney(e.target.value)} className=\"change__currancy\">\n        <option value=\"рубли\">Рубли</option>\n        <option value=\"бонусы\">Бонусы</option>\n      </select>\n      <ul className=\"flex cardlist\">\n        {\n          er\n            ? <li>Не удалось загрузить данные...</li>\n            : filteredCardList.map(card => (\n              <li className=\"cardlist__item article\" key={card.courseId}>\n                <img className=\"article__img\" src=\"./img/4306.png\" alt={card.subject} />\n                <article className=\"article__content\">\n                  <h2 className=\"article__subj\">{card.subject}</h2>\n                  <h2 className=\"article__grades\">{gradesString(card.grade)}</h2>\n                  <h3 className=\"article__genre\">{card.genre}</h3>\n                  <a className=\"article__more\" href=\"#\">Подробнее</a>\n                  <a className=\"article__try\" href=\"#\">{money === 'рубли' ? `${card.price} руб` : `${card.priceBonus} бонусов`}</a>\n                </article>\n              </li>\n            ))\n        }\n      </ul>\n    </main>\n  );\n};\n\nexport default CardList;\n","import * as TYPES from './actionTypes';\r\n\r\nconst URL = 'https://krapipl.imumk.ru:8443/api/mobilev1/update';\r\n\r\nexport const getCardsList = () => (\r\n  async dispatch => {\r\n    try {\r\n      const resp = await fetch(URL, {\r\n        method: 'POST'\r\n      });\r\n      const { items, errorMessage } = await resp.json();\r\n      if (errorMessage) {\r\n        throw new Error(errorMessage);\r\n      }\r\n      dispatch({\r\n        type: TYPES.GET_CARDS_LIST,\r\n        payload: items,\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n      dispatch({\r\n        type: TYPES.ERROR,\r\n        payload: e.message\r\n      });\r\n    }\r\n  }\r\n);\r\n\r\nexport const filter = (value) => (\r\n  dispatch => {\r\n    dispatch({\r\n      type: TYPES.FILTER_BY_SUBJECT,\r\n      payload: value\r\n    });\r\n  }\r\n);\r\n\r\nexport const search = (value) => (\r\n  dispatch => {\r\n    dispatch({\r\n      type: TYPES.SEARCH,\r\n      payload: value\r\n    });\r\n  }\r\n);\r\n","import React from 'react';\r\nimport Header from './components/Header';\r\nimport Navigation from './components/Navigation';\r\nimport CardList from './components/CardList';\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Navigation />\r\n      <CardList />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import * as TYPES from './actionTypes';\r\n\r\nconst initialState = {\r\n  data: [],\r\n  er: false,\r\n};\r\n\r\nexport const cardListReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TYPES.GET_CARDS_LIST:\r\n      return {\r\n        ...state,\r\n        data: action.payload\r\n      };\r\n    case TYPES.ERROR:\r\n      return {\r\n        ...state,\r\n        er: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as TYPES from './actionTypes';\n\nconst initialState = {\n  filterBySubject: '',\n  filterByGenre: '',\n  filterByGrade: '',\n  search: '',\n};\n\nexport const filterReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case TYPES.FILTER_BY_SUBJECT:\n      return {\n        ...state,\n        search: '',\n        filterBySubject: action.payload\n      };\n    case TYPES.FILTER_BY_GENRE:\n      return {\n        ...state,\n        search: '',\n        filterByGenre: action.payload\n      };\n    case TYPES.FILTER_BY_GRADE:\n      return {\n        ...state,\n        search: '',\n        filterByGrade: action.payload\n      };\n    case TYPES.SEARCH:\n      return {\n        ...state,\n        search: action.payload\n      };\n    default:\n      return state;\n  }\n};\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.scss';\r\nimport App from './App';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { cardListReducer } from './store/cardListReducer';\r\nimport { filterReducer } from './store/filterReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  cardList: cardListReducer,\r\n  filter: filterReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(\r\n    applyMiddleware(\r\n      thunk,\r\n    ),\r\n  ),\r\n);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}