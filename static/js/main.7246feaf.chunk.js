(this["webpackJsonpreact-courses"]=this["webpackJsonpreact-courses"]||[]).push([[0],{19:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(5),s=a.n(r),i=(a(19),a(1)),l=function(){return Object(i.jsx)("header",{className:"header",children:Object(i.jsxs)("div",{className:"container header__content",children:[Object(i.jsx)("a",{href:"#",className:"header__logo",children:Object(i.jsx)("img",{alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f",src:"./img/logo.svg",className:"header__img"})}),Object(i.jsxs)("div",{className:"header__wrapper flex",children:[Object(i.jsx)("a",{className:"header__link",href:"#",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),Object(i.jsx)("a",{className:"header__link",href:"#",children:"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f"}),Object(i.jsx)("a",{className:"header__link",href:"#",children:"\u0412\u0445\u043e\u0434"})]})]})})},o=a(6),j=a(3),u="GET_CARDS_LIST",d="ERROR",b="FILTER_BY_GENRE",h="FILTER_BY_SUBJECT",O="FILTER_BY_GRADE",f="SEARCH",_=["\u0412\u0441\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b","\u0410\u043b\u0433\u0435\u0431\u0440\u0430","\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439","\u0411\u0438\u043e\u043b\u043e\u0433\u0438\u044f","\u0413\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u044f","\u0413\u0435\u043e\u043c\u0435\u0442\u0440\u0438\u044f"],m=["\u0412\u0441\u0435 \u0436\u0430\u043d\u0440\u044b","\u0414\u0435\u043c\u043e","\u0417\u0430\u0434\u0430\u0447\u043d\u0438\u043a","\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a \u0412\u041f\u0420","\u041f\u043e\u0434\u0433\u0442\u043e\u0432\u043a\u0430 \u043a \u0415\u0413\u042d","\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0442\u0435\u0442\u0440\u0430\u0434\u044c"],p=["\u0412\u0441\u0435 \u043a\u043b\u0430\u0441\u0441\u044b","1","2","3","4","5","6","7","8","9","10","11"],g=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(j.b)();return Object(i.jsxs)("nav",{className:"navigation container",children:[Object(i.jsx)("h2",{className:"navigation__title",children:"\u0412\u0438\u0442\u0440\u0438\u043d\u0430"}),Object(i.jsxs)("form",{className:"navigation__form flex",children:[Object(i.jsxs)("div",{className:"navigation__wrapper",children:[Object(i.jsx)("select",{className:"navigation__select",onChange:function(e){return function(e){r({type:h,payload:e.target.value})}(e)},children:_.map((function(e,t){return Object(i.jsx)("option",{value:"\u0412\u0441\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b"===e?"":e,children:e},t)}))}),Object(i.jsx)("select",{className:"navigation__select",onChange:function(e){return function(e){r({type:b,payload:e.target.value})}(e)},children:m.map((function(e,t){return Object(i.jsx)("option",{value:"\u0412\u0441\u0435 \u0436\u0430\u043d\u0440\u044b"===e?"":e,children:e},t)}))}),Object(i.jsx)("select",{className:"navigation__select",onChange:function(e){return function(e){r({type:O,payload:e.target.value})}(e)},children:p.map((function(e,t){return Object(i.jsx)("option",{value:"\u0412\u0441\u0435 \u043a\u043b\u0430\u0441\u0441\u044b"===e?"":e,children:e},t)}))})]}),Object(i.jsxs)("div",{className:"navigation__group",children:[Object(i.jsx)("input",{value:a,className:"navigation__input",placeholder:"\u041f\u043e\u0438\u0441\u043a",onChange:function(e){n(e.target.value)}}),Object(i.jsx)("button",{className:"navigation__btn",onClick:function(e){e.preventDefault(),r({type:f,payload:a}),n("")},children:Object(i.jsx)("img",{src:"./img/search.png",alt:"\u043f\u043e\u0438\u0441\u043a",className:"navigation__img"})})]})]})]})},x=a(10),v=a.n(x),y=a(13),N=function(e){var t=e.split(";");return 1===t.length?"".concat(t[0]," \u043a\u043b\u0430\u0441\u0441"):"".concat(t[0],"-").concat(t[t.length-1]," \u043a\u043b\u0430\u0441\u0441\u044b")},E=function(){var e=Object(c.useState)("\u0440\u0443\u0431\u043b\u0438"),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(j.b)(),s=Object(j.c)((function(e){return e.cardList})),l=s.data,b=s.er,h=Object(j.c)((function(e){return e.filter})),O=h.filterBySubject,f=h.filterByGenre,_=h.filterByGrade,m=h.search;console.log("data",l),Object(c.useEffect)((function(){r(function(){var e=Object(y.a)(v.a.mark((function e(t){var a,c,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://krapipl.imumk.ru:8443/api/mobilev1/update",{method:"POST"});case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,n=c.items,!(r=c.errorMessage)){e.next=11;break}throw new Error(r);case 11:t({type:u,payload:n}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t({type:d,payload:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}())}),[r]);var p=Object(c.useMemo)((function(){var e,t=l;return O&&(t=l.filter((function(e){return e.subject.includes(O)}))),f&&(t=t.filter((function(e){return e.genre.includes(f)}))),_&&(t=t.filter((function(e){return e.grade.includes(_)}))),m&&(e=m,t=t.filter((function(t){return(t.genre+t.subject+t.grade).toLowerCase().includes(e.trim().toLowerCase())}))),console.log("result",t),t}),[l,m,O,f,_]);return console.log("filteredCardList",p),Object(i.jsxs)("main",{className:"container",children:[Object(i.jsxs)("select",{onChange:function(e){return n(e.target.value)},className:"change__currancy",children:[Object(i.jsx)("option",{value:"\u0440\u0443\u0431\u043b\u0438",children:"\u0420\u0443\u0431\u043b\u0438"}),Object(i.jsx)("option",{value:"\u0431\u043e\u043d\u0443\u0441\u044b",children:"\u0411\u043e\u043d\u0443\u0441\u044b"})]}),Object(i.jsx)("ul",{className:"flex cardlist",children:b?Object(i.jsx)("li",{children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435..."}):p.map((function(e){return Object(i.jsxs)("li",{className:"cardlist__item article",children:[Object(i.jsx)("img",{className:"article__img",src:"./img/4306.png",alt:e.subject}),Object(i.jsxs)("article",{className:"article__content",children:[Object(i.jsx)("h2",{className:"article__subj",children:e.subject}),Object(i.jsx)("h2",{className:"article__grades",children:N(e.grade)}),Object(i.jsx)("h3",{className:"article__genre",children:e.genre}),Object(i.jsx)("a",{className:"article__more",href:"#",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),Object(i.jsx)("a",{className:"article__try",href:"#",children:"\u0440\u0443\u0431\u043b\u0438"===a?"".concat(e.price," \u0440\u0443\u0431"):"".concat(e.priceBonus," \u0431\u043e\u043d\u0443\u0441\u043e\u0432")})]})]},e.courseId)}))})]})},B=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{}),Object(i.jsx)(g,{}),Object(i.jsx)(E,{})]})},w=a(4),S=a(14),C=a(2),k={data:[],er:!1},R={filterBySubject:"",filterByGenre:"",filterByGrade:"",search:""},L=Object(w.c)({cardList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(C.a)(Object(C.a)({},e),{},{data:t.payload});case d:return Object(C.a)(Object(C.a)({},e),{},{er:t.payload});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(C.a)(Object(C.a)({},e),{},{search:"",filterBySubject:t.payload});case b:return Object(C.a)(Object(C.a)({},e),{},{search:"",filterByGenre:t.payload});case O:return Object(C.a)(Object(C.a)({},e),{},{search:"",filterByGrade:t.payload});case f:return Object(C.a)(Object(C.a)({},e),{},{search:t.payload});default:return e}}}),G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.d,T=Object(w.e)(L,G(Object(w.a)(S.a)));s.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(j.a,{store:T,children:Object(i.jsx)(B,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.7246feaf.chunk.js.map